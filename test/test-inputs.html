<!DOCTYPE html>
<html>
<!--
Copyright Â©2016 Dmitri Kourennyi
See the file COPYING for copying permission.
-->
<head>
  <title>DarkContrast Test Page</title>
  <link rel="stylesheet" href="test.css" />
  <script>
window.setTimeout(test_dynamic, 500);

function test_dynamic() {
  'use strict';
  var sec = document.createElement('section');
  var hdr = document.createElement('h2');
  hdr.textContent = 'Dynamically added elements, background only';
  var frm = document.createElement('form');

  var inp = document.createElement('input');
  inp.value = "Input";
  inp.style.backgroundColor = '#ABCDEF';
  frm.appendChild(inp);
  frm.appendChild(document.createElement('br'));

  inp = document.createElement('textarea');
  inp.value = "Textarea";
  inp.style.backgroundColor = '#ABCDEF';
  frm.appendChild(inp);
  frm.appendChild(document.createElement('br'));

  inp = document.createElement('select');
  var opt = document.createElement('option');
  opt.textContent = 'Select';
  inp.appendChild(opt);
  inp.style.backgroundColor = '#ABCDEF';
  frm.appendChild(inp);
  frm.appendChild(document.createElement('br'));

  inp = document.createElement('button');
  inp.textContent = "Button";
  inp.style.backgroundColor = '#ABCDEF';
  frm.appendChild(inp);
  frm.appendChild(document.createElement('br'));

  sec.appendChild(hdr);
  sec.appendChild(frm);
  document.getElementById('sections').appendChild(sec);


  // Do dynamic class addition test
  for (var dyn_id of ["dyn_input", "dyn_texta", "dyn_select", "dyn_btn"]) {
    document.getElementById(dyn_id).classList.add("fg");
  }

}

  </script>
  <style>
.sections {
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
}

section {
  margin: 0.5em 1em;
}

.fg {
  color: #543210;
}

.bg {
  background-color:#ABCDEF;
}

.bgImg {
  background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEWrze+83v+32CWOAAAAEElEQVR4AWNk+I8d/WfEigCAsxAJdjDJwwAAAABJRU5ErkJggg==);
}

.transparentImg {
  background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);
}

.match-fg {
  color: rgb(210, 218, 227);
}
.match-bg {
  background-color: rgb(63, 69, 82);
}
.paired-match-fg {
  color: rgb(255, 255, 255);
}
.paired-match-bg {
  background-color: rgb(0, 0, 0);
}

.hidden-fg { color:white; }
.hidden-bg { background-color:black; }

  </style>
</head>

<body>
  <h1>DarkContrast Check Page</h1>
  <p class="fg">Explicit foreground color</p>
  <p class="bg">Explicit background color</p>
  <div class="sections" id="sections">
    <section>
      <h2>Nothing defined</h2>
      <form>
        <input value="Input" />
        <br/>
        <textarea>Textarea</textarea>
        <br/>
        <select>
          <option>Select</option>
        </select>
        <br/>
        <button>Button</button>
      </form>
    </section>
    <section>
      <h2 class="fg">FG only</h2>
      <form>
        <input value="Input" class="fg" />
        <br/>
        <textarea class="fg">Textarea</textarea>
        <br/>
        <select class="fg">
          <option>Select</option>
        </select>
        <br/>
        <button class="fg">Button</button>
      </form>
    </section>
    <section>
      <h2>BG only</h2>
      <form>
        <input value="Input" class="bg" />
        <br/>
        <textarea class="bg">Textarea</textarea>
        <br/>
        <select class="bg">
          <option>Select</option>
        </select>
        <br/>
        <button class="bg">Button</button>
      </form>
    </section>
    <section>
      <h2>FG and BG</h2>
      <form>
        <input value="Input" class="fg bg" />
        <br/>
        <textarea class="fg bg">Textarea</textarea>
        <br/>
        <select class="fg bg">
          <option>Select</option>
        </select>
        <br/>
        <button class="fg bg">Button</button>
      </form>
    </section>
    <section>
      <h2>BG image only</h2>
      <form>
        <input class="bgImg" value="Input" />
        <br/>
        <textarea class="bgImg">Textarea</textarea>
        <br/>
        <select class="bgImg">
          <option>Select</option>
        </select>
        <br/>
        <button class="bgImg">Button</button>
      </form>
    </section>
    <section>
      <h2>Transparent BG image only</h2>
      <form>
        <input class="transparentImg" value="Input" />
        <br/>
        <textarea class="transparentImg">Textarea</textarea>
        <br/>
        <select class="transparentImg">
          <option>Select</option>
        </select>
        <br/>
        <button class="transparentImg">Button</button>
      </form>
    </section>
    <section>
      <h2>FG and BG image</h2>
      <form>
        <input class="fg bgImg" value="Input" />
        <br/>
        <textarea class="fg bgImg">Textarea</textarea>
        <br/>
        <select class="fg bgImg">
          <option>Select</option>
        </select>
        <br/>
        <button class="fg bgImg">Button</button>
      </form>
    </section>
    <section>
      <h2>FG and Transparent BG image only</h2>
      <form>
        <input class="fg transparentImg" value="Input" />
        <br/>
        <textarea class="fg transparentImg">Textarea</textarea>
        <br/>
        <select class="fg transparentImg">
          <option>Select</option>
        </select>
        <br/>
        <button class="fg transparentImg">Button</button>
      </form>
    </section>
    <section>
      <h2>Dynamic class change</h2>
      <form>
        <input id="dyn_input" class="" value="Input" />
        <br/>
        <textarea id="dyn_texta" class="">Textarea</textarea>
        <br/>
        <select id="dyn_select" class="">
          <option>Select</option>
        </select>
        <br/>
        <button id="dyn_btn" class="">Button</button>
      </form>
    </section>
    <section>
      <h2>Explicit Foreground that Matches</h2>
      <form>
        <input class="match-fg" value="Input" />
        <br/>
        <textarea class="match-fg">Textarea</textarea>
        <br/>
        <select class="match-fg">
          <option>Select</option>
        </select>
        <br/>
        <button class="match-fg">Button</button>
      </form>
    </section>
    <section>
      <h2>Explicit Background that Matches</h2>
      <form>
        <input class="match-bg" value="Input" />
        <br/>
        <textarea class="match-bg">Textarea</textarea>
        <br/>
        <select class="match-bg">
          <option>Select</option>
        </select>
        <br/>
        <button class="match-bg">Button</button>
      </form>
    </section>
    <section>
      <h2>Explicit Both that Match</h2>
      <form>
        <input class="match-fg match-bg" value="Input" />
        <br/>
        <textarea class="match-fg match-bg">Textarea</textarea>
        <br/>
        <select class="match-fg match-bg">
          <option>Select</option>
        </select>
        <br/>
        <button class="match-fg match-bg">Button</button>
      </form>
    </section>
    <section>
      <h2>Matchy FG, contrasty BG</h2>
      <form>
        <input class="match-fg paired-match-bg" value="Input" />
        <br/>
        <textarea class="match-fg paired-match-bg">Textarea</textarea>
        <br/>
        <select class="match-fg paired-match-bg">
          <option>Select</option>
        </select>
        <br/>
        <button class="match-fg paired-match-bg">Button</button>
      </form>
    </section>
    <section>
      <h2>Matchy BG, contrasty FG</h2>
      <form>
        <input class="paired-match-fg match-bg" value="Input" />
        <br/>
        <textarea class="paired-match-fg match-bg">Textarea</textarea>
        <br/>
        <select class="paired-match-fg match-bg">
          <option>Select</option>
        </select>
        <br/>
        <button class="paired-match-fg match-bg">Button</button>
      </form>
    </section>
    <section>
      <h2>Hidden Foreground</h2>
      <p>
        Will be (incorrectly) visible with extension enabled. Should be hidden
        if standard colors are forced (currently fails due to Firefox styling
        strangeness).
      </p>
      <form>
        <input class="hidden-fg" value="Input" />
        <br/>
        <textarea class="hidden-fg">Textarea</textarea>
        <br/>
        <select class="hidden-fg">
          <option>Select</option>
        </select>
        <br/>
        <button class="hidden-fg">Button</button>
      </form>
    </section>
    <section>
      <h2>Hidden Background</h2>
      <p>
        Will be (incorrectly) visible with extension enabled. Should be hidden
        if standard colors are forced (currently fails due to Firefox styling
        strangeness).
      </p>
      <form>
        <input class="hidden-bg" value="Input" />
        <br/>
        <textarea class="hidden-bg">Textarea</textarea>
        <br/>
        <select class="hidden-bg">
          <option>Select</option>
        </select>
        <br/>
        <button class="hidden-bg">Button</button>
      </form>
    </section>
  </div>
</body>

</html>
